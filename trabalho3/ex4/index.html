<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../main.css" />
    <link rel="stylesheet" href="style.css" />
    <title>Exercício 4</title>
  </head>
  <body>
    <main>
      <section>
        <h2>Cadastro de usuário</h2>
        <form name="formCadastro" action="action.php" method="post">
          <div>
            <label for="user">Usuário:</label>
            <input type="text" id="user" name="user" autocomplete="off" />
            <span></span>
          </div>

          <div>
            <label for="password">Senha:</label>
            <input
              type="password"
              id="password"
              name="password"
              autocomplete="off"
            />
            <span></span>
          </div>

          <div>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" autocomplete="off" />
            <span></span>
          </div>

          <button>Cadastrar</button>
        </form>
      </section>
    </main>
    <script>
      window.onload = () => {
        document.forms.formCadastro.addEventListener("submit", checkForm);
      };

      function checkForm(e) {
        let form = e.target;
        let isFormValid = true;

        const spanUser = form.user.nextElementSibling;
        const spanPassword = form.password.nextElementSibling;
        const spanEmail = form.email.nextElementSibling;

        spanUser.textContent = "";
        spanPassword.textContent = "";
        spanEmail.textContent = "";

        if (form.user.value === "") {
          spanUser.textContent = "O campo deve ser preenchido";
          isFormValid = false;
        }

        if (form.password.value === "") {
          spanPassword.textContent = "O campo deve ser preenchido";
          isFormValid = false;
        }

        if (form.email.value === "") {
          spanEmail.textContent = "O campo deve ser preenchido";
          isFormValid = false;
        }
        e.preventDefault();
        return isFormValid;
      }
    </script>
  </body>
</html>
